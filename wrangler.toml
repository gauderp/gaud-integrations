name = "gaud-integrations"
main = "src/index.ts"
compatibility_date = "2024-01-01"
account_id = ""  # Configure com seu account ID do Cloudflare

# KV Namespace para cache
kv_namespaces = [
  { binding = "CACHE", id = "", preview_id = "" },
  { binding = "SYNC_STATUS", id = "", preview_id = "" }
]

# Durable Objects para state management (opcional)
# durable_objects = { bindings = [{ name = "LEAD_SYNC", class_name = "LeadSync" }] }

# Environment variables
[env.development]
name = "gaud-integrations-dev"
route = "dev-api.gaud.com/*"
zone_id = ""

[env.production]
name = "gaud-integrations"
route = "api.gaud.com/*"
zone_id = ""

# Build configuration
[build]
command = "npm run build"
cwd = "."
watch_paths = ["src/**/*.ts"]

[build.upload]
format = "service-worker"

# Observability
[observability]
enabled = true

# Triggers
[triggers.scheduled]
# Sincronização a cada 5 minutos
crons = ["*/5 * * * *"]
